# Example: All AurumCode Pipelines
# Copy this file to your repo: .github/workflows/aurumcode-complete.yml

name: AurumCode - Complete Pipeline

on:
  pull_request:
    types: [opened, synchronize, reopened]

permissions:
  contents: write
  pull-requests: write
  issues: write
  pages: write

jobs:
  aurumcode:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Run AurumCode Complete Pipeline
        uses: Mpaape/AurumCode@main
        with:
          mode: 'all'  # Runs review + documentation + qa
          llm_provider: 'openai'
          llm_model: 'gpt-4'
          llm_api_key: ${{ secrets.OPENAI_API_KEY }}
          github_token: ${{ secrets.GITHUB_TOKEN }}
          post_pr_comments: 'true'
          coverage_threshold: '80'
          documentation_mode: 'incremental'

      - name: Pipeline Summary
        run: |
          echo "‚úÖ AurumCode complete pipeline finished"
          echo ""
          echo "üìù Code Review:"
          echo "  - Issues: ${{ steps.aurumcode.outputs.issues_found }}"
          echo "  - Result: ${{ steps.aurumcode.outputs.review_result }}"
          echo ""
          echo "üìö Documentation:"
          echo "  - URL: ${{ steps.aurumcode.outputs.documentation_url }}"
          echo ""
          echo "üß™ QA Testing:"
          echo "  - Coverage: ${{ steps.aurumcode.outputs.coverage_percentage }}%"
